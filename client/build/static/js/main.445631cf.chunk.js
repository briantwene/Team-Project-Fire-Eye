(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,c){},41:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c.n(s),j=c(32),a=c.n(j),i=(c(40),c(10)),r=c(5),l=(c(41),c(3)),o=c(11),b=c(33),O=c(1),d=[{title:"Home",path:"/",icon:Object(O.jsx)(o.a,{}),cName:"nav-text"},{title:"Upload",path:"/upload",icon:Object(O.jsx)(o.d,{}),cName:"nav-text"},{title:"Logout",path:"/logout",icon:Object(O.jsx)(b.a,{}),cName:"nav-text"}],x=c(0);var u=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],j=function(){return n(!c)};return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(x.b.Provider,{value:{color:"#fff"},children:[Object(O.jsxs)("div",{className:"Sidebar",children:[Object(O.jsx)("div",{className:"username",children:Object(O.jsx)("h1",{})}),Object(O.jsx)(i.b,{to:"#",className:"menu-bars",children:Object(O.jsx)(l.b,{onClick:j})})]}),Object(O.jsx)("nav",{className:c?"nav-menu active":"nav-menu",children:Object(O.jsxs)("ul",{className:"nav-menu-items",onClick:j,children:[Object(O.jsx)("li",{className:"navbar-toggle",children:Object(O.jsx)(i.b,{to:"#",className:"menu-bars",children:Object(O.jsx)(o.c,{})})}),d.map((function(e,t){return Object(O.jsx)("li",{className:e.cName,children:Object(O.jsxs)(i.b,{to:e.path,children:[e.icon,Object(O.jsx)("span",{className:"sidebar_item_title",children:e.title})]})},t)}))]})})]})})},h=c(15),f=c(12),m=c.n(f),p=c(9),v=c.n(p),g=c(4);var N=function(){return Object(O.jsx)("div",{children:"Loading"})},S=function(){var e=Object(s.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],j=Object(s.useState)(!0),a=Object(r.a)(j,2),i=a[0],l=a[1],o=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("user/isauth");case 3:t=e.sent,console.log(t),n(!0),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),n(!1);case 12:l(!1);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return o(),function(){}}),[]),i?Object(O.jsx)(N,{}):c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u,{}),Object(O.jsx)(g.b,{})]}):Object(O.jsx)(g.a,{to:"/login"})};var y=function(){var e=Object(g.h)(),t=Object(s.useState)(""),c=Object(r.a)(t,2),n=c[0],j=c[1],a=Object(s.useState)(""),i=Object(r.a)(a,2),l=i[0],o=i[1],b=Object(s.useState)(""),d=Object(r.a)(b,2),x=d[0],u=d[1];return Object(O.jsxs)("div",{className:"login-container",children:[Object(O.jsx)("div",{className:"logo-container",children:Object(O.jsx)("span",{className:"logo-text",children:"F I R E E Y E"})}),Object(O.jsxs)("form",{className:"login-form",children:[Object(O.jsx)("div",{className:"login-title",children:Object(O.jsx)("h1",{children:"Login"})}),Object(O.jsx)("span",{children:"Login with the data you entered during your registration"}),Object(O.jsxs)("div",{className:"form-field",children:[Object(O.jsx)("p",{className:"label",children:"Username"}),Object(O.jsx)("input",{type:"text",className:"field",onChange:function(e){console.log(e),j(e.target.value)}})]}),Object(O.jsxs)("div",{className:"form-field",children:[Object(O.jsx)("p",{className:"label",children:"password"}),Object(O.jsx)("input",{type:"password",className:"field",onChange:function(e){return o(e.target.value)}})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"login-btn",onClick:function(t){t.preventDefault(),v.a.post("/auth/user",{username:n,password:l}).then((function(t){console.log(t),t.data&&(u(t.data),e("/"))})).catch((function(e){var t=e.response;console.log(t),u(t.data.message)}))},children:"Login"})})]}),Object(O.jsx)("div",{className:"login-status",children:Object(O.jsx)("span",{children:x})})]})};var w=c(34),F=c(21),k=c.n(F);var C=function(e){var t=e.file,c=e.setModal;return Object(O.jsx)("div",{className:"fileInfo-container",onClick:function(){c()},children:Object(O.jsxs)("div",{className:"fileInfo",children:[Object(O.jsxs)("table",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Name:"}),Object(O.jsx)("td",{children:t.name})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Full Path:"}),Object(O.jsx)("td",{children:t.path})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Date Modified:"}),Object(O.jsx)("td",{children:new Date(t.details.time).toLocaleDateString})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Size:"}),Object(O.jsx)("td",{children:k()(t.details.size)})]}),Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Type:"}),Object(O.jsxs)("td",{children:[".",t.details.type]})]})]}),Object(O.jsx)("button",{className:"download",onClick:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";v.a.get("/nas/download",{params:{filePath:e},responseType:"blob"}).then((function(e){var s=e.data;Object(w.saveAs)(s,"".concat(t,".").concat(c))}))}(t.path,t.name,t.details.type)},children:"Download"})]})})},D=(c(31),c(16)),P=c(19),L={"3gp":Object(O.jsx)(l.g,{}),"7zip":Object(O.jsx)(l.f,{}),aac:Object(O.jsx)(l.g,{}),aep:Object(O.jsx)(P.a,{}),ai:Object(O.jsx)(P.b,{}),aif:Object(O.jsx)(l.g,{}),aiff:Object(O.jsx)(l.g,{}),avi:Object(O.jsx)(l.m,{}),bin:Object(O.jsx)(l.e,{}),bmp:Object(O.jsx)(l.j,{}),c:Object(O.jsx)(l.h,{}),cpp:Object(O.jsx)(l.h,{}),cs:Object(O.jsx)(l.h,{}),css:Object(O.jsx)(l.d,{}),csv:Object(O.jsx)(l.i,{}),doc:Object(O.jsx)(l.n,{}),docx:Object(O.jsx)(l.n,{}),eot:Object(O.jsx)(l.e,{}),exe:Object(O.jsx)(l.e,{}),flac:Object(O.jsx)(l.g,{}),flv:Object(O.jsx)(l.m,{}),fnt:Object(O.jsx)(l.e,{}),gif:Object(O.jsx)(l.j,{}),gz:Object(O.jsx)(l.a,{}),htm:Object(O.jsx)(l.o,{}),html:Object(O.jsx)(l.o,{}),ini:Object(O.jsx)(l.e,{}),java:Object(O.jsx)(l.p,{}),jpeg:Object(O.jsx)(l.j,{}),jpg:Object(O.jsx)(l.j,{}),js:Object(O.jsx)(l.q,{}),json:Object(O.jsx)(l.c,{}),jsx:Object(O.jsx)(l.u,{}),m4a:Object(O.jsx)(l.g,{}),m4v:Object(O.jsx)(l.m,{}),md:Object(O.jsx)(l.r,{}),mkv:Object(O.jsx)(l.m,{}),mov:Object(O.jsx)(l.m,{}),mp3:Object(O.jsx)(l.g,{}),mp4:Object(O.jsx)(l.m,{}),mpeg:Object(O.jsx)(l.m,{}),mpg:Object(O.jsx)(l.m,{}),ogg:Object(O.jsx)(l.g,{}),ogv:Object(O.jsx)(l.m,{}),pdf:Object(O.jsx)(l.k,{}),php:Object(O.jsx)(l.s,{}),png:Object(O.jsx)(l.j,{}),ppt:Object(O.jsx)(l.l,{}),pptx:Object(O.jsx)(l.l,{}),py:Object(O.jsx)(l.t,{}),rar:Object(O.jsx)(l.f,{}),scss:Object(O.jsx)(l.v,{}),svg:Object(O.jsx)(l.j,{}),tar:Object(O.jsx)(l.j,{}),ts:Object(O.jsx)(P.c,{}),wav:Object(O.jsx)(l.m,{}),webm:Object(O.jsx)(l.m,{}),wmv:Object(O.jsx)(l.m,{}),xls:Object(O.jsx)(l.i,{}),xlsx:Object(O.jsx)(l.i,{}),yml:Object(O.jsx)(l.h,{}),zip:Object(O.jsx)(l.f,{}),zipx:Object(O.jsx)(l.f,{}),other:Object(O.jsx)(l.e,{})};var z=function(e){var t=e.file,c=e.set,s=e.open;return Object(O.jsxs)("div",{className:"fileItem",children:["Folder"!==t.details.type?Object(O.jsx)("div",{className:"fileIcon",onClick:function(){return s(t)},children:L[t.details.type in L?t.details.type:"other"]}):Object(O.jsx)("div",{className:"fileIcon",onClick:function(e){c(t.path)},children:Object(O.jsx)(D.a,{})}),Object(O.jsx)("span",{className:"filename",children:t.name})]})};var E=function(e){var t=e.path,c=e.set,s=t.split("/").filter((function(e){return e})),n=s.map((function(e,t){return{folder:e,fullPath:s.slice(0,t+1).join("/")}}));return Object(O.jsx)(O.Fragment,{children:n.map((function(e,t){return Object(O.jsxs)(O.Fragment,{children:[0===t?null:Object(O.jsxs)("div",{children:[" ",">"," "]}),Object(O.jsx)("div",{className:"pathCrumb",onClick:function(){return c(e.fullPath)},children:e.folder})]})}))})};function I(e){var t=e.node,c=e.setfunc,n=Object(s.useState)(!1),j=Object(r.a)(n,2),a=j[0],i=j[1];console.log(c);var l=!!t.files;return Object(O.jsxs)("li",{className:"sublist",children:[Object(O.jsxs)("div",{className:"subfolder",onClick:function(e){i((function(e){return!e})),c(t.filePath)},children:[l&&Object(O.jsx)("div",{className:a?"active":"",children:" > "}),Object(O.jsxs)("div",{className:"folderName",children:[Object(O.jsx)(D.a,{})," ",Object(O.jsxs)("span",{className:"folderName-text",children:[" ",t.name]})]})]}),l&&a&&Object(O.jsx)("div",{className:"subtree-container",children:Object(O.jsx)("ul",{className:"subtree",children:t.files.map((function(e){return e.isFolderBoolean&&Object(O.jsx)(I,{node:e,setfunc:c})}))})})]})}var M=function(e){var t=Object(s.useState)(e.files||[]),c=Object(r.a)(t,2),n=c[0],j=c[1],a=Object(s.useState)(e.directory),i=Object(r.a)(a,2),l=i[0],o=i[1],b=Object(s.useState)([]),d=Object(r.a)(b,2),x=d[0],u=d[1],h=Object(s.useState)({file:null,isOpen:!1}),f=Object(r.a)(h,2),m=f[0],p=f[1],g=function(e){p((function(t){var c=t.isOpen;return{file:e,isOpen:!c}}))},N=function(e){o(e)},S=function(){v.a.get("/nas/changeDir",{params:{folder:l}}).then((function(e){u(e.data)})).catch((function(e){console.error(e)}))};Object(s.useEffect)((function(){v.a.get("/nas/gather",{params:{passedPath:e.directory}}).then((function(e){console.log(e.data),j(e.data)})).catch((function(e){console.error(e)}))}),[]),Object(s.useEffect)((function(){S(),S()}),[l]);var y=n;return console.log(y),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"explorer",children:[Object(O.jsx)("ul",{className:"explorer_tree",children:y&&y.map((function(e,t){return e.isFolderBoolean&&Object(O.jsx)(I,{node:e,setfunc:N},t)}))}),Object(O.jsxs)("div",{className:"view-grid-outer",children:[Object(O.jsx)("div",{className:"cd-info",children:Object(O.jsx)(E,{path:l,set:N})}),Object(O.jsx)("div",{className:"view-grid-inner",children:x&&x.map((function(e,t){return Object(O.jsx)(z,{file:e,set:N,open:g},t)}))})]}),m.isOpen&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(C,{file:m.file,setModal:g})})]})})};var T=function(){var e=Object(g.h)(),t=function(){var t=Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.post("/auth/logout");case 2:t.sent&&e("/login");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){return t()})),Object(O.jsx)("div",{className:"logout",children:Object(O.jsx)("h1",{children:"Logging Out"})})},B=c(21);var _=function(){var e=Object(s.useState)(),t=Object(r.a)(e,2),c=t[0],n=t[1],j=Object(s.useState)(!1),a=Object(r.a)(j,2),i=a[0],l=a[1],o=Object(s.useState)(""),b=Object(r.a)(o,2),d=b[0],x=b[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"file",name:"file",onChange:function(e){n(e.target.files[0]),console.log(e.target.files),l(!0)}}),i?Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["Filename: ",c.name]}),Object(O.jsxs)("p",{children:["Filetype: ",c.type]}),Object(O.jsxs)("p",{children:["Size in bytes: ",B(c.size)]}),Object(O.jsxs)("p",{children:["lastModifiedDate: ",c.ModifiedDate]})]}):Object(O.jsx)("p",{children:"Select a file to show details"}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){var e=new FormData;e.append("file",c),fetch("/nas/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),x(e.success)})).catch((function(e){console.log("there was an error: ".concat(e))}))},children:"Submit"})}),Object(O.jsx)("div",{children:d})]})};var J=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),c=t[0],n=(t[1],Object(s.useState)("")),j=Object(r.a)(n,2);return j[0],j[1],Object(g.h)(),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(g.e,{children:[Object(O.jsx)(g.c,{path:"/login",element:Object(O.jsx)(y,{}),exact:!0}),Object(O.jsxs)(g.c,{element:Object(O.jsx)(S,{auth:c}),children:[Object(O.jsx)(g.c,{path:"/",element:Object(O.jsx)(M,{directory:"\\\\172.20.10.6\\nas"})}),Object(O.jsx)(g.c,{path:"/logout",element:Object(O.jsx)(T,{})}),Object(O.jsx)(g.c,{path:"/upload",element:Object(O.jsx)(_,{})})]})]})})},U=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,66)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,j=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),j(e),a(e)}))};a.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(J,{})})}),document.getElementById("root")),U()}},[[64,1,2]]]);
//# sourceMappingURL=main.445631cf.chunk.js.map